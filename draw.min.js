window.addEventListener("load",()=>{resize(),document.addEventListener("mousedown",startPainting),document.addEventListener("mouseup",stopPainting),document.addEventListener("mousemove",sketch),window.addEventListener("resize",resize),document.addEventListener("touchstart",touchstart,!1),document.addEventListener("touchend",touchend,!1),document.addEventListener("touchmove",touchmove,!1)});const canvas=document.querySelector("#canvas"),ctx=canvas.getContext("2d"),canvasBg=document.querySelector("#canvas-bg");function resize(){ctx.canvas.width=window.innerWidth,ctx.canvas.height=window.innerHeight}let coord={x:0,y:0},paint=!1;function getPosition(t){coord.x=t.clientX-canvas.offsetLeft,coord.y=t.clientY-canvas.offsetTop}function startPainting(t){paint=!0,getPosition(t)}function stopPainting(){paint=!1}function sketch(t){paint&&(ctx.beginPath(),ctx.lineWidth=100,ctx.lineCap="round",canvas.classList.contains("dusty")&&(ctx.strokeStyle="#33373b"),canvas.classList.contains("chalk")&&(ctx.strokeStyle="rgba(81,112,81,.85)"),canvas.classList.contains("white")&&(ctx.strokeStyle="rgba(247,247,247,.6)"),ctx.moveTo(coord.x,coord.y),getPosition(t),ctx.lineTo(coord.x,coord.y),ctx.stroke())}function touchstart(t){startPainting(t.touches[0])}function touchend(t){stopPainting(t.changedTouches[0])}function touchmove(t){sketch(t.touches[0]),t.preventDefault()}function erase(){ctx.clearRect(0,0,canvas.width,canvas.height)}var screen=document.querySelector("#screen");screen.onclick=function(){canvas.classList.add("dusty"),canvasBg.classList.add("dusty"),canvas.classList.remove("chalk","white"),canvasBg.classList.remove("chalk","white"),ctx.clearRect(0,0,canvas.width,canvas.height),screen.classList.toggle("active"),chalk.classList.contains("active")?chalk.classList.toggle("active"):white.classList.contains("active")&&white.classList.toggle("active")};var chalk=document.querySelector("#chalk");chalk.onclick=function(){canvas.classList.add("chalk"),canvasBg.classList.add("chalk"),canvas.classList.remove("dusty","white"),canvasBg.classList.remove("dusty","white"),ctx.clearRect(0,0,canvas.width,canvas.height),chalk.classList.toggle("active"),screen.classList.contains("active")?screen.classList.toggle("active"):white.classList.contains("active")&&white.classList.toggle("active")};var white=document.querySelector("#white");white.onclick=function(){canvas.classList.add("white"),canvasBg.classList.add("white"),canvas.classList.remove("dusty","chalk"),canvasBg.classList.remove("dusty","chalk"),ctx.clearRect(0,0,canvas.width,canvas.height),white.classList.toggle("active"),screen.classList.contains("active")?screen.classList.toggle("active"):chalk.classList.contains("active")&&chalk.classList.toggle("active")};
